import{_ as i,z as a,m as t,ap as l}from"./chunks/framework.BJGaVzEf.js";const c=JSON.parse('{"title":"配置说明","description":"","frontmatter":{},"headers":[],"relativePath":"markdown/guide/config.md","filePath":"markdown/guide/config.md","lastUpdated":1771239428000}'),o={name:"markdown/guide/config.md"};function e(n,s,h,r,p,d){return t(),a("div",null,[...s[0]||(s[0]=[l(`<h1 id="配置说明" tabindex="-1">配置说明 <a class="header-anchor" href="#配置说明" aria-label="Permalink to &quot;配置说明&quot;">​</a></h1><p>本页面详细介绍 GitHub 适配器的所有配置项。</p><h2 id="基础设置" tabindex="-1">基础设置 <a class="header-anchor" href="#基础设置" aria-label="Permalink to &quot;基础设置&quot;">​</a></h2><h3 id="token" tabindex="-1">token <a class="header-anchor" href="#token" aria-label="Permalink to &quot;token&quot;">​</a></h3><ul><li><strong>类型</strong>: <code>string</code></li><li><strong>必填</strong>: 是</li><li><strong>说明</strong>: GitHub Personal Access Token (PAT)</li></ul><p>用于认证 GitHub API 请求。请确保 Token 具有以下权限：</p><ul><li><code>repo</code> - 访问仓库</li><li><code>read:user</code> - 读取用户信息</li><li><code>read:discussion</code> - 读取 Discussions</li><li><code>write:discussion</code> - 发表和修改 Discussions</li></ul><h3 id="silentmode" tabindex="-1">silentMode <a class="header-anchor" href="#silentmode" aria-label="Permalink to &quot;silentMode&quot;">​</a></h3><ul><li><strong>类型</strong>: <code>boolean</code></li><li><strong>默认值</strong>: <code>false</code></li><li><strong>说明</strong>: 静默模式</li></ul><p>开启后，适配器将不会向 GitHub 发送任何内容（如评论、回复等），仅接收事件。适用于：</p><ul><li>测试和调试场景</li><li>只需要监听事件而不需要回复的场景</li><li>避免误操作的保护模式</li></ul><div class="warning custom-block"><p class="custom-block-title">注意</p><p>静默模式下，所有通过 <a href="./../dev/apis.html"><code>bot.sendMessage()</code></a> 等方法发送消息的操作都会被阻止。</p></div><h2 id="通信模式选择" tabindex="-1">通信模式选择 <a class="header-anchor" href="#通信模式选择" aria-label="Permalink to &quot;通信模式选择&quot;">​</a></h2><h3 id="mode" tabindex="-1">mode <a class="header-anchor" href="#mode" aria-label="Permalink to &quot;mode&quot;">​</a></h3><ul><li><strong>类型</strong>: <code>&#39;webhook&#39; | &#39;pull&#39;</code></li><li><strong>默认值</strong>: <code>&#39;pull&#39;</code></li><li><strong>说明</strong>: 通信模式</li></ul><p>两种模式的对比：</p><table tabindex="0"><thead><tr><th>特性</th><th>Pull 模式</th><th>Webhook 模式</th></tr></thead><tbody><tr><td>公网 IP</td><td>不需要</td><td>需要</td></tr><tr><td>实时性</td><td>较差（取决于轮询间隔）</td><td>实时</td></tr><tr><td>事件支持</td><td>部分受限</td><td>完整支持</td></tr><tr><td>代理支持</td><td>支持</td><td>不支持</td></tr><tr><td>配置难度</td><td>简单</td><td>中等</td></tr></tbody></table><h2 id="pull-模式配置" tabindex="-1">Pull 模式配置 <a class="header-anchor" href="#pull-模式配置" aria-label="Permalink to &quot;Pull 模式配置&quot;">​</a></h2><p>当 <code>mode</code> 设置为 <code>&#39;pull&#39;</code> 时，以下配置项生效：</p><h3 id="repositories" tabindex="-1">repositories <a class="header-anchor" href="#repositories" aria-label="Permalink to &quot;repositories&quot;">​</a></h3><ul><li><strong>类型</strong>: <code>Array&lt;{ owner: string, repo: string }&gt;</code></li><li><strong>必填</strong>: 是（仅 Pull 模式）</li><li><strong>说明</strong>: 监听的仓库列表</li></ul><p>配置示例：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;repositories&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">      &quot;owner&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;koishi-shangxue-plugins&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">      &quot;repo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;koishi-plugin-adapter-github&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">      &quot;owner&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;koishijs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">      &quot;repo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;koishi&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">提示</p><ul><li>可以同时监听多个仓库，适配器会自动处理所有仓库的事件</li><li>此配置项仅在 Pull 模式下需要配置</li></ul></div><h3 id="interval" tabindex="-1">interval <a class="header-anchor" href="#interval" aria-label="Permalink to &quot;interval&quot;">​</a></h3><ul><li><strong>类型</strong>: <code>number</code></li><li><strong>默认值</strong>: <code>20</code></li><li><strong>单位</strong>: 秒</li><li><strong>说明</strong>: 轮询间隔</li></ul><p>建议值：</p><ul><li>开发测试：10-20 秒</li><li>生产环境：30-60 秒</li></ul><div class="warning custom-block"><p class="custom-block-title">注意</p><p>轮询间隔过短可能导致 API 请求频率过高，触发 GitHub 的速率限制。</p></div><h3 id="useproxy" tabindex="-1">useProxy <a class="header-anchor" href="#useproxy" aria-label="Permalink to &quot;useProxy&quot;">​</a></h3><ul><li><strong>类型</strong>: <code>boolean</code></li><li><strong>默认值</strong>: <code>false</code></li><li><strong>说明</strong>: 是否使用代理</li></ul><h3 id="proxyurl" tabindex="-1">proxyUrl <a class="header-anchor" href="#proxyurl" aria-label="Permalink to &quot;proxyUrl&quot;">​</a></h3><ul><li><strong>类型</strong>: <code>string</code></li><li><strong>默认值</strong>: <code>&quot;http://localhost:7897&quot;</code></li><li><strong>说明</strong>: 代理地址</li><li><strong>生效条件</strong>: <code>useProxy</code> 为 <code>true</code></li></ul><p>支持的代理协议：</p><ul><li>HTTP: <code>http://host:port</code></li><li>HTTPS: <code>https://host:port</code></li></ul><p>配置示例：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;mode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;pull&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;interval&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;useProxy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;proxyUrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;http://localhost:7890&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h2 id="webhook-模式配置" tabindex="-1">Webhook 模式配置 <a class="header-anchor" href="#webhook-模式配置" aria-label="Permalink to &quot;Webhook 模式配置&quot;">​</a></h2><p>当 <code>mode</code> 设置为 <code>&#39;webhook&#39;</code> 时，以下配置项生效：</p><h3 id="webhookpath" tabindex="-1">webhookPath <a class="header-anchor" href="#webhookpath" aria-label="Permalink to &quot;webhookPath&quot;">​</a></h3><ul><li><strong>类型</strong>: <code>string</code></li><li><strong>默认值</strong>: <code>&quot;/github/webhook&quot;</code></li><li><strong>说明</strong>: Webhook 路径</li></ul><p>完整的 Webhook URL 格式：</p><div class="language-url vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">url</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>http://你的服务器地址:端口/github/webhook</span></span></code></pre></div><h3 id="webhooksecret" tabindex="-1">webhookSecret <a class="header-anchor" href="#webhooksecret" aria-label="Permalink to &quot;webhookSecret&quot;">​</a></h3><ul><li><strong>类型</strong>: <code>string</code></li><li><strong>可选</strong>: 是</li><li><strong>说明</strong>: Webhook 密钥</li></ul><p>用于验证 GitHub 发送的请求是否合法。强烈建议在生产环境中配置此项。</p><p>配置示例：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;mode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;webhook&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;webhookPath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/github/webhook&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;webhookSecret&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;your-secret-key&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h2 id="高级设置" tabindex="-1">高级设置 <a class="header-anchor" href="#高级设置" aria-label="Permalink to &quot;高级设置&quot;">​</a></h2><h3 id="loggerinfo" tabindex="-1">loggerinfo <a class="header-anchor" href="#loggerinfo" aria-label="Permalink to &quot;loggerinfo&quot;">​</a></h3><ul><li><strong>类型</strong>: <code>boolean</code></li><li><strong>默认值</strong>: <code>false</code></li><li><strong>说明</strong>: 日志调试模式</li></ul><p>开启后会输出详细的调试日志，包括：</p><ul><li>接收到的事件详情</li><li>API 请求和响应</li><li>错误堆栈信息</li></ul><div class="tip custom-block"><p class="custom-block-title">提示</p><p>在遇到问题时，建议开启此选项以获取更多调试信息。</p></div>`,54)])])}const u=i(o,[["render",e]]);export{c as __pageData,u as default};
